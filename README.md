# wm-api
## How to use?

Для использования необходимо посылать get запросы на domain/method передавая несколько параметров:
```
method - имя метода, например 'message.send';
accesstoken - токен доступа. Можно получить вызвав 'user.auth' и передав логин с паролем
id - идентификатор, например пользователя или сообщения
```
Так же может потребоваться передать другие параметры, если параметра не будет передано сервер вернёт 

`{'error':{"code":3,"text":this keys is empty: }}` передав массив недостающих параметров


## Ошибки

Во время использования сервер может вернуть несколько различных ошибок. Каждая из ник имеет свой код и описание('text'), из которого можно понять, что не так.

Известные коды ошибок:
```

2,'{key}' is invalid - происходит, когда параметр передан, но имеет невалидный формат(или, как например с токеном - недействителен)

3,this keys is empty: {empty} - происходит, когда в запрос не вложены необходимые параметры. Вместо {empty} передаёт список строк - имен параметров

4,this {object} not exists - происходит при попытке обратиться к несуществующему объекту, например при передаче id несуществуещего пользователя при выполнении 'user.get'

5,unknown method passed - просходит при указании неверного параметра 'method'

6,login or password is incorrect - происходит в методе user.auth при указании неверных аутентификационных данных

7,access denided for this action - происходит при запросе, ответ на который сервер не должен возвращать(например при получении сообщения, не принадлежащего пользователю)

404,page not found - присходит при попытке достучаться до несуществующей страницы. Все методв api должны проходить через domain/method

500,internal server error - проиходит, когда сервер не может обработать запрос(такое поведение ожидаемо при попытках организовать sql иньекцию)

```

api.wan-group.ru

wan-group.ru:5000
 
